<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIS Candyshop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes slide {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .marquee {
            animation: slide 15s linear infinite;
            white-space: nowrap;
            display: inline-block;
        }
        
        .candy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .candy-card {
            transition: all 0.3s ease;
        }
        
        .delivery-option {
            transition: all 0.2s ease;
        }
        
        .delivery-option:hover {
            transform: scale(1.03);
        }
        
        .selected-delivery {
            border: 3px solid #f59e0b;
            background-color: #fef3c7;
        }
        
        .flavor-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 4px;
            margin-bottom: 4px;
        }
        
        .order-row:nth-child(even) {
            background-color: #f8fafc;
        }
        
        .order-row:hover {
            background-color: #f1f5f9;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .tab-button {
            transition: all 0.2s ease;
        }
        
        .tab-button.active {
            background-color: #4f46e5;
            color: white;
        }
        
        .discount-applied {
            color: #10b981;
            font-weight: bold;
        }
        
        .discount-error {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body class="bg-blue-50">
    <!-- Header with moving text -->
    <header class="bg-blue-600 py-4 px-6 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <i class="fas fa-candy-cane text-yellow-300 text-3xl mr-3"></i>
                <h1 class="text-2xl md:text-3xl font-bold text-white">VIS Candyshop</h1>
            </div>
            <div class="relative overflow-hidden w-64 md:w-96 h-8 bg-yellow-300 rounded-full flex items-center">
                <div class="marquee font-bold text-purple-800 text-sm md:text-base">
                    <span>ORDER NOW •  DELIVERED BY LUNCH (12:00) • ORDER NOW •</span>
                </div>
            </div>
            <button id="employee-login-btn" class="bg-white text-blue-600 hover:bg-blue-50 font-bold py-2 px-4 rounded-full transition duration-300">
                <i class="fas fa-user-shield mr-2"></i> Employee Login
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-12 px-6 bg-blue-100">
        <div class="container mx-auto text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-purple-800 mb-6">Premium Candy Delivered Fast</h2>
            <p class="text-lg md:text-xl text-blue-700 mb-8 max-w-3xl mx-auto">
                The finest selection of candies including Bloxx, Moam, and more. Fast delivery to satisfy your sweet cravings!
            </p>
            <a href="#candy-menu" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 inline-block">
                Shop Now <i class="fas fa-arrow-down ml-2"></i>
            </a>
        </div>
    </section>

    <!-- Candy Menu -->
    <section id="candy-menu" class="py-12 px-6">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center text-purple-800 mb-12">Our Candy Selection</h2>
            
            <!-- Bloxx Section -->
            <div class="mb-16">
                <h3 class="text-2xl font-bold text-purple-700 mb-6">Bloxx</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Cola Bloxx -->
                    <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
                        <h3 class="text-xl font-bold text-purple-800 mb-2">Cola Bloxx</h3>
                        <div class="mb-3">
                            <span class="flavor-badge bg-brown-100 text-brown-800">Cola</span>
                        </div>
                        <p class="text-gray-600 mb-4">Classic cola flavored chewy candy blocks.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xl font-bold text-blue-600">$0.75</span>
                            <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="bl1" data-name="Cola Bloxx" data-price="0.75">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Raspberry Bloxx -->
                    <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
                        <h3 class="text-xl font-bold text-purple-800 mb-2">Raspberry Bloxx</h3>
                        <div class="mb-3">
                            <span class="flavor-badge bg-purple-100 text-purple-800">Raspberry</span>
                        </div>
                        <p class="text-gray-600 mb-4">Sweet and tangy raspberry flavored candy blocks.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xl font-bold text-blue-600">$0.75</span>
                            <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="bl2" data-name="Raspberry Bloxx" data-price="0.75">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Lemon Bloxx -->
                    <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
                        <h3 class="text-xl font-bold text-purple-800 mb-2">Lemon Bloxx</h3>
                        <div class="mb-3">
                            <span class="flavor-badge bg-yellow-100 text-yellow-800">Lemon</span>
                        </div>
                        <p class="text-gray-600 mb-4">Tangy lemon flavored chewy candy blocks.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xl font-bold text-blue-600">$0.75</span>
                            <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="bl3" data-name="Lemon Bloxx" data-price="0.75">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Strawberry Bloxx -->
                    <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
                        <h3 class="text-xl font-bold text-purple-800 mb-2">Strawberry Bloxx</h3>
                        <div class="mb-3">
                            <span class="flavor-badge bg-pink-100 text-pink-800">Strawberry</span>
                        </div>
                        <p class="text-gray-600 mb-4">Sweet strawberry flavored chewy candy blocks.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xl font-bold text-blue-600">$0.75</span>
                            <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="bl4" data-name="Strawberry Bloxx" data-price="0.75">
                                Add to Cart <i class="fas fa-plus ml-1"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Orange Bloxx -->
                    <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
                        <h3 class="text-xl font-bold text-purple-800 mb-2">Orange Bloxx</h3>
        <div class="mb-3">
            <span class="flavor-badge bg-orange-100 text-orange-800">Orange</span>
        </div>
        <p class="text-gray-600 mb-4">Juicy orange flavored chewy candy blocks.</p>
        <div class="flex justify-between items-center">
            <span class="text-xl font-bold text-blue-600">$0.75</span>
            <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="bl5" data-name="Orange Bloxx" data-price="0.75">
                Add to Cart <i class="fas fa-plus ml-1"></i>
            </button>
        </div>
    </div>
</div>
</div>

<!-- Moam Section -->
<div class="mb-16">
    <h3 class="text-2xl font-bold text-purple-700 mb-6">Moam</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Moam Raspberry Blue -->
        <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
            <h3 class="text-xl font-bold text-purple-800 mb-2">Moam Raspberry Blue</h3>
            <div class="mb-3">
                <span class="flavor-badge bg-blue-100 text-blue-800">Blue Raspberry</span>
            </div>
            <p class="text-gray-600 mb-4">Sweet blue raspberry flavored chewy candy.</p>
            <div class="flex justify-between items-center">
                <span class="text-xl font-bold text-blue-600">$0.50</span>
                <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="mo1" data-name="Moam Raspberry Blue" data-price="0.50">
                    Add to Cart <i class="fas fa-plus ml-1"></i>
                </button>
            </div>
        </div>
        
        <!-- Moam Cola -->
        <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
            <h3 class="text-xl font-bold text-purple-800 mb-2">Moam Cola</h3>
            <div class="mb-3">
                <span class="flavor-badge bg-brown-100 text-brown-800">Cola</span>
            </div>
            <p class="text-gray-600 mb-4">Classic cola flavored chewy candy.</p>
            <div class="flex justify-between items-center">
                <span class="text-xl font-bold text-blue-600">$0.20</span>
                <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="mo2" data-name="Moam Cola" data-price="0.20">
                    Add to Cart <i class="fas fa-plus ml-1"></i>
                </button>
            </div>
        </div>
        
        <!-- Moam Cherry -->
        <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
            <h3 class="text-xl font-bold text-purple-800 mb-2">Moam Cherry</h3>
            <div class="mb-3">
                <span class="flavor-badge bg-red-100 text-red-800">Cherry</span>
            </div>
            <p class="text-gray-600 mb-4">Sweet cherry flavored chewy candy.</p>
            <div class="flex justify-between items-center">
                <span class="text-xl font-bold text-blue-600">$0.20</span>
                <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="mo3" data-name="Moam Cherry" data-price="0.20">
                    Add to Cart <i class="fas fa-plus ml-1"></i>
                </button>
            </div>
        </div>
        
        <!-- Moam Lemon -->
        <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
            <h3 class="text-xl font-bold text-purple-800 mb-2">Moam Lemon</h3>
            <div class="mb-3">
                <span class="flavor-badge bg-yellow-100 text-yellow-800">Lemon</span>
            </div>
            <p class="text-gray-600 mb-4">Zesty lemon flavored chewy candy.</p>
            <div class="flex justify-between items-center">
                <span class="text-xl font-bold text-blue-600">$0.20</span>
                <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="mo4" data-name="Moam Lemon" data-price="0.20">
                    Add to Cart <i class="fas fa-plus ml-1"></i>
                </button>
            </div>
        </div>
        
        <!-- Moam Raspberry -->
        <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
            <h3 class="text-xl font-bold text-purple-800 mb-2">Moam Raspberry</h3>
            <div class="mb-3">
                <span class="flavor-badge bg-purple-100 text-purple-800">Raspberry</span>
            </div>
            <p class="text-gray-600 mb-4">Sweet raspberry flavored chewy candy.</p>
            <div class="flex justify-between items-center">
                <span class="text-xl font-bold text-blue-600">$0.20</span>
                <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="mo5" data-name="Moam Raspberry" data-price="0.20">
                    Add to Cart <i class="fas fa-plus ml-1"></i>
                </button>
            </div>
        </div>
        
        <!-- Moam Strawberry -->
        <div class="candy-card bg-white rounded-xl overflow-hidden shadow-md p-6">
            <h3 class="text-xl font-bold text-purple-800 mb-2">Moam Strawberry</h3>
            <div class="mb-3">
                <span class="flavor-badge bg-pink-100 text-pink-800">Strawberry</span>
            </div>
            <p class="text-gray-600 mb-4">Sweet strawberry flavored chewy candy.</p>
            <div class="flex justify-between items-center">
                <span class="text-xl font-bold text-blue-600">$0.20</span>
                <button class="add-to-cart bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300" data-id="mo6" data-name="Moam Strawberry" data-price="0.20">
                    Add to Cart <i class="fas fa-plus ml-1"></i>
                </button>
            </div>
        </div>
    </div>
</div>
</div>
</section>

<!-- Cart Sidebar -->
<div class="fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-xl transform translate-x-full transition-transform duration-300 z-50 overflow-y-auto" id="cart-sidebar">
    <div class="p-6">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-2xl font-bold text-purple-800">Your Candy Cart</h3>
            <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        
        <div id="cart-items" class="mb-6">
            <!-- Cart items will be added here dynamically -->
            <p class="text-gray-500 italic" id="empty-cart-message">Your cart is empty. Add some sweet treats!</p>
        </div>
        
        <!-- Discount Code Section -->
        <div class="mb-6 border-t border-gray-200 pt-4">
            <h4 class="text-lg font-semibold mb-2 text-purple-800">Discount Code</h4>
            <div class="flex">
                <input type="text" id="discount-code-input" class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter discount code">
                <button id="apply-discount" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-r-lg transition duration-300">
                    Apply
                </button>
            </div>
            <div id="discount-message" class="mt-2"></div>
        </div>
        
        <div class="border-t border-gray-200 pt-4 mb-6">
            <h4 class="text-lg font-semibold mb-4 text-purple-800">Delivery Options</h4>
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div class="delivery-option p-4 border-2 border-gray-200 rounded-lg cursor-pointer" data-type="break" data-price="0.30">
                    <div class="flex items-center">
                        <i class="fas fa-coffee text-yellow-500 mr-2 text-xl"></i>
                        <div>
                            <h5 class="font-bold">By Break (10:10)</h5>
                            <p class="text-sm text-gray-600">Delivered before morning break</p>
                        </div>
                    </div>
                    <div class="mt-2 text-right font-bold text-purple-800">+$0.30</div>
                </div>
                <div class="delivery-option p-4 border-2 border-gray-200 rounded-lg cursor-pointer" data-type="lunch" data-price="0.15">
                    <div class="flex items-center">
                        <i class="fas fa-utensils text-blue-500 mr-2 text-xl"></i>
                        <div>
                            <h5 class="font-bold">At Lunch (12:30)</h5>
                            <p class="text-sm text-gray-600">Delivered at lunchtime</p>
                        </div>
                    </div>
                    <div class="mt-2 text-right font-bold text-purple-800">+$0.15</div>
                </div>
            </div>
        </div>
        
        <div class="border-t border-gray-200 pt-4 mb-6">
            <div class="flex justify-between mb-2">
                <span class="font-semibold">Subtotal:</span>
                <span id="subtotal">$0.00</span>
            </div>
            <div class="flex justify-between mb-2" id="discount-row" style="display: none;">
                <span class="font-semibold">Discount:</span>
                <span id="discount-amount" class="text-green-600">-$0.00</span>
            </div>
            <div class="flex justify-between mb-2">
                <span class="font-semibold">Delivery:</span>
                <span id="delivery-cost">$0.00</span>
            </div>
            <div class="flex justify-between text-xl font-bold text-purple-800">
                <span>Total:</span>
                <span id="total">$0.00</span>
            </div>
        </div>
        
        <div class="bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-money-bill-wave text-yellow-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-yellow-700">
                        <strong>Pay in person</strong> when your candy is delivered. Only Cash is accepted.
                    </p>
                </div>
            </div>
        </div>
        
        <button id="checkout-btn" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-full transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
            Proceed to Checkout <i class="fas fa-arrow-right ml-2"></i>
        </button>
    </div>
</div>

<!-- Employee Login Modal -->
<div class="fixed inset-0 flex items-center justify-center z-50 hidden" id="employee-login-modal">
    <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4">
        <div class="text-center mb-6">
            <i class="fas fa-user-shield text-blue-500 text-4xl mb-4"></i>
            <h3 class="text-2xl font-bold text-purple-800">Employee Portal</h3>
            <p class="text-gray-600 mt-2">Enter password to access admin features</p>
        </div>
        
        <div class="mb-4">
            <label for="employee-password" class="block text-gray-700 font-medium mb-2">Password</label>
            <input type="password" id="employee-password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter password">
            <p id="password-error" class="text-red-500 text-sm mt-1 hidden">Incorrect password. Please try again.</p>
        </div>
        
        <div class="flex justify-between mt-6">
            <button id="cancel-login" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-full transition duration-300">
                Cancel
            </button>
            <button id="submit-password" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full transition duration-300">
                Submit <i class="fas fa-arrow-right ml-1"></i>
            </button>
        </div>
    </div>
</div>

<!-- Employee Panel -->
<div class="fixed top-0 right-0 h-full w-full md:w-1/2 bg-white shadow-xl transform translate-x-full transition-transform duration-300 z-50 overflow-y-auto hidden" id="employee-panel">
    <div class="p-6">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-2xl font-bold text-purple-800 flex items-center">
                <i class="fas fa-user-shield text-blue-500 mr-3"></i>
                Employee Dashboard
            </h3>
            <button id="close-employee-panel" class="text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        
        <!-- Tabs -->
        <div class="flex border-b border-gray-200 mb-6">
            <button class="tab-button py-2 px-4 font-medium text-gray-500 hover:text-purple-800 rounded-t-lg active" data-tab="orders">
                <i class="fas fa-clipboard-list mr-2"></i> Orders
            </button>
            <button class="tab-button py-2 px-4 font-medium text-gray-500 hover:text-purple-800 rounded-t-lg" data-tab="discounts">
                <i class="fas fa-tag mr-2"></i> Discounts
            </button>
            <button class="tab-button py-2 px-4 font-medium text-gray-500 hover:text-purple-800 rounded-t-lg" data-tab="products">
                <i class="fas fa-candy-cane mr-2"></i> Products
            </button>
        </div>
        
        <!-- Orders Tab -->
        <div id="orders-tab" class="tab-content active">
            <div class="mb-4 flex justify-between items-center">
                <div class="relative w-64">
                    <input type="text" id="order-search" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Search orders...">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
                <div>
                    <select id="delivery-filter" class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="all">All Deliveries</option>
                        <option value="break">Break (10:10)</option>
                        <option value="lunch">Lunch (12:00)</option>
                    </select>
                </div>
            </div>
            
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order #</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Items</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Delivery</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="orders-list" class="bg-white divide-y divide-gray-200">
                        <!-- Orders will be populated here -->
                        <tr>
                            <td colspan="6" class="px-6 py-4 text-center text-gray-500">Loading orders...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="mt-6 flex justify-between items-center">
                <div class="text-sm text-gray-500" id="orders-count">Showing 0 orders</div>
                <div class="flex space-x-2">
                    <button id="prev-page" class="bg-gray-200 hover:grid-300 text-gray-800 font-bold py-1 px-3 rounded disabled:opacity-50" disabled>
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button id="next-page" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-1 px-3 rounded disabled:opacity-50" disabled>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Discounts Tab -->
        <div id="discounts-tab" class="tab-content">
            <div class="mb-6">
                <h4 class="text-xl font-bold text-purple-800 mb-4">Create New Discount</h4>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Discount Code</label>
                            <input type="text" id="discount-code" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. SWEET20">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Discount Type</label>
                            <select id="discount-type" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="percentage">Percentage</option>
                                <option value="fixed">Fixed Amount</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Discount Value</label>
                            <input type="number" id="discount-value" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 20">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Expiry Date</label>
                            <input type="date" id="discount-expiry" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                    </div>
                    <button id="create-discount" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-full transition duration-300">
                        Create Discount <i class="fas fa-plus ml-1"></i>
                    </button>
                </div>
            </div>
            
            <div>
                <h4 class="text-xl font-bold text-purple-800 mb-4">Active Discounts</h4>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Code</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Value</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Expires</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="discounts-list" class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td colspan="5" class="px-6 py-4 text-center text-gray-500">No active discounts</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Products Tab -->
        <div id="products-tab" class="tab-content">
            <div class="mb-6">
                <h4 class="text-xl font-bold text-purple-800 mb-4">Add New Product</h4>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Product Name</label>
                            <input type="text" id="product-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. Grape Bloxx">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Category</label>
                            <select id="product-category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="Bloxx">Bloxx</option>
                                <option value="Moam">Moam</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Price</label>
                            <input type="number" step="0.01" id="product-price" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 0.75">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Flavor</label>
                            <input type="text" id="product-flavor" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. Grape">
                        </div>
                    </div>
                    <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Description</label>
                            <textarea id="product-description" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" rows="3" placeholder="Describe the product..."></textarea>
                        </div>
                        <button id="add-product" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-full transition duration-300">
                            Add Product <i class="fas fa-plus ml-1"></i>
                        </button>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-xl font-bold text-purple-800 mb-4">Current Products</h4>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Flavor</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="products-list" class="bg-white divide-y divide-gray-200">
                                <!-- Products will be populated here -->
                                <tr>
                                    <td colspan="5" class="px-6 py-4 text-center text-gray-500">Loading products...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Cart Button -->
<div class="fixed bottom-6 right-6 z-40">
    <button id="cart-button" class="bg-purple-600 hover:bg-purple-700 text-white rounded-full p-4 shadow-lg flex items-center transition duration-300">
        <i class="fas fa-shopping-cart text-xl"></i>
        <span id="cart-count" class="ml-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">0</span>
    </button>
</div>

<!-- Overlay -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" id="overlay"></div>

<!-- Checkout Modal -->
<div class="fixed inset-0 flex items-center justify-center z-50 hidden" id="checkout-modal">
    <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4">
        <div class="text-center">
            <i class="fas fa-check-circle text-green-500 text-6xl mb-4"></i>
            <h3 class="text-2xl font-bold text-purple-800 mb-2">Order Confirmed!</h3>
            <p class="text-gray-600 mb-6">Your candy will be delivered soon. Please have your payment ready when it arrives.</p>
            <div id="delivery-time" class="bg-purple-100 text-purple-800 font-semibold py-2 px-4 rounded-lg mb-6">
                Guaranteed delivery by: <span id="delivery-estimate"></span>
            </div>
            <button id="close-modal" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-full transition duration-300">
                Continue Shopping
            </button>
        </div>
    </div>
</div>

<script>
    // Cart functionality
    let cart = [];
    let selectedDelivery = null;
    let orders = []; // This would normally come from a database
    let discounts = []; // Store for discounts
    let products = []; // Store for products
    let appliedDiscount = null;
    
    // DOM elements
    const cartSidebar = document.getElementById('cart-sidebar');
    const cartButton = document.getElementById('cart-button');
    const closeCart = document.getElementById('close-cart');
    const cartItemsContainer = document.getElementById('cart-items');
    const emptyCartMessage = document.getElementById('empty-cart-message');
    const cartCount = document.getElementById('cart-count');
    const subtotalElement = document.getElementById('subtotal');
    const deliveryCostElement = document.getElementById('delivery-cost');
    const totalElement = document.getElementById('total');
    const checkoutBtn = document.getElementById('checkout-btn');
    const overlay = document.getElementById('overlay');
    const checkoutModal = document.getElementById('checkout-modal');
    const closeModal = document.getElementById('close-modal');
    const deliveryEstimate = document.getElementById('delivery-estimate');
    
    // Discount elements
    const discountCodeInput = document.getElementById('discount-code-input');
    const applyDiscountBtn = document.getElementById('apply-discount');
    const discountMessage = document.getElementById('discount-message');
    const discountRow = document.getElementById('discount-row');
    const discountAmount = document.getElementById('discount-amount');
    
    // Employee elements
    const employeeLoginBtn = document.getElementById('employee-login-btn');
    const employeeLoginModal = document.getElementById('employee-login-modal');
    const employeePanel = document.getElementById('employee-panel');
    const cancelLoginBtn = document.getElementById('cancel-login');
    const submitPasswordBtn = document.getElementById('submit-password');
    const employeePasswordInput = document.getElementById('employee-password');
    const passwordError = document.getElementById('password-error');
    const closeEmployeePanelBtn = document.getElementById('close-employee-panel');
    const refreshOrdersBtn = document.getElementById('refresh-orders');
    const ordersList = document.getElementById('orders-list');
    const orderSearch = document.getElementById('order-search');
    const deliveryFilter = document.getElementById('delivery-filter');
    const ordersCount = document.getElementById('orders-count');
    const prevPageBtn = document.getElementById('prev-page');
    const nextPageBtn = document.getElementById('next-page');
    
    // Tab elements
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    
    // Admin discount elements
    const adminDiscountCodeInput = document.getElementById('discount-code');
    const discountTypeSelect = document.getElementById('discount-type');
    const discountValueInput = document.getElementById('discount-value');
    const discountExpiryInput = document.getElementById('discount-expiry');
    const createDiscountBtn = document.getElementById('create-discount');
    const discountsList = document.getElementById('discounts-list');
    
    // Product elements
    const productNameInput = document.getElementById('product-name');
    const productCategorySelect = document.getElementById('product-category');
    const productPriceInput = document.getElementById('product-price');
    const productFlavorInput = document.getElementById('product-flavor');
    const productDescriptionInput = document.getElementById('product-description');
    const addProductBtn = document.getElementById('add-product');
    const productsList = document.getElementById('products-list');
    
    // Add to cart buttons
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    
    // Delivery options
    const deliveryOptions = document.querySelectorAll('.delivery-option');
    
    // Open cart
    cartButton.addEventListener('click', () => {
        cartSidebar.classList.remove('translate-x-full');
        overlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    });
    
    // Close cart
    closeCart.addEventListener('click', () => {
        cartSidebar.classList.add('translate-x-full');
        overlay.classList.add('hidden');
        document.body.style.overflow = 'auto';
    });
    
    // Close modal
    closeModal.addEventListener('click', () => {
        checkoutModal.classList.add('hidden');
        overlay.classList.add('hidden');
        document.body.style.overflow = 'auto';
        
        // Clear cart
        cart = [];
        selectedDelivery = null;
        appliedDiscount = null;
        updateCart();
        
        // Close cart if open
        cartSidebar.classList.add('translate-x-full');
    });
    
    // Add to cart functionality
    addToCartButtons.forEach(button => {
        button.addEventListener('click', () => {
            const id = button.getAttribute('data-id');
            const name = button.getAttribute('data-name');
            const price = parseFloat(button.getAttribute('data-price'));
            
            // Check if item already in cart
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id,
                    name,
                    price,
                    quantity: 1
                });
            }
            
            updateCart();
            
            // Open cart if closed
            if (cartSidebar.classList.contains('translate-x-full')) {
                cartSidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
        });
    });
    
    // Delivery option selection
    deliveryOptions.forEach(option => {
        option.addEventListener('click', () => {
            // Remove selected class from all options
            deliveryOptions.forEach(opt => opt.classList.remove('selected-delivery'));
            
            // Add selected class to clicked option
            option.classList.add('selected-delivery');
            
            selectedDelivery = {
                type: option.getAttribute('data-type'),
                price: parseFloat(option.getAttribute('data-price'))
            };
            
            updateCart();
        });
    });
    
    // Apply discount code
    applyDiscountBtn.addEventListener('click', () => {
        const code = discountCodeInput.value.trim();
        
        if (!code) {
            showDiscountMessage('Please enter a discount code', false);
            return;
        }
        
        // Check if discount exists and is valid
        const discount = discounts.find(d => d.code === code && new Date(d.expiry) > new Date());
        
        if (discount) {
            appliedDiscount = discount;
            showDiscountMessage(`Discount applied: ${discount.value}${discount.type === 'percentage' ? '%' : '$'} off`, true);
            updateCart();
        } else {
            appliedDiscount = null;
            showDiscountMessage('Invalid or expired discount code', false);
            updateCart();
        }
    });
    
    // Show discount message
    function showDiscountMessage(message, isSuccess) {
        discountMessage.textContent = message;
        discountMessage.className = isSuccess ? 'discount-applied' : 'discount-error';
    }
    
    // Checkout button
    checkoutBtn.addEventListener('click', () => {
        if (cart.length > 0 && selectedDelivery) {
            // Create order (in a real app, this would be sent to a server)
            const order = {
                id: Date.now().toString(),
                items: [...cart],
                subtotal: parseFloat(subtotalElement.textContent.replace('$', '')),
                discount: appliedDiscount ? {
                    code: appliedDiscount.code,
                    amount: parseFloat(discountAmount.textContent.replace('-$', ''))
                } : null,
                deliveryType: selectedDelivery.type,
                deliveryCost: parseFloat(deliveryCostElement.textContent.replace('$', '')),
                total: parseFloat(totalElement.textContent.replace('$', '')),
                status: 'Pending',
                timestamp: new Date().toISOString()
            };
            
            // Add to orders array (simulating database)
            orders.push(order);
            
            // Set delivery time based on selection
            if (selectedDelivery.type === 'break') {
                deliveryEstimate.textContent = "10:10 AM";
            } else if (selectedDelivery.type === 'lunch') {
                deliveryEstimate.textContent = "12:00 PM";
            }
            
            // Show modal
            checkoutModal.classList.remove('hidden');
            overlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
    });
    
    // Employee login button
    employeeLoginBtn.addEventListener('click', () => {
        employeeLoginModal.classList.remove('hidden');
        overlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    });
    
    // Cancel login
    cancelLoginBtn.addEventListener('click', () => {
        employeeLoginModal.classList.add('hidden');
        overlay.classList.add('hidden');
        document.body.style.overflow = 'auto';
    });
    
    // Submit password
    submitPasswordBtn.addEventListener('click', () => {
        const password = employeePasswordInput.value;
        
        // Check password (2504 is the password)
        if (password === '2504') {
            passwordError.classList.add('hidden');
            employeeLoginModal.classList.add('hidden');
            employeePanel.classList.remove('hidden');
            employeePanel.classList.remove('translate-x-full');
            
            // Load initial data
            loadOrders();
            loadDiscounts();
            loadProducts();
        } else {
            passwordError.classList.remove('hidden');
        }
    });
    
    // Close employee panel
    closeEmployeePanelBtn.addEventListener('click', () => {
        employeePanel.classList.add('translate-x-full');
        setTimeout(() => {
            employeePanel.classList.add('hidden');
            overlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }, 300);
    });
    
    // Tab switching
    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const tabId = button.getAttribute('data-tab');
            
            // Remove active class from all buttons and contents
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked button and corresponding content
            button.classList.add('active');
            document.getElementById(`${tabId}-tab`).classList.add('active');
            
            // Refresh data if needed
            if (tabId === 'orders') loadOrders();
            if (tabId === 'discounts') loadDiscounts();
            if (tabId === 'products') loadProducts();
        });
    });
    
    // Create discount
    createDiscountBtn.addEventListener('click', () => {
        const code = adminDiscountCodeInput.value.trim();
        const type = discountTypeSelect.value;
        const value = parseFloat(discountValueInput.value);
        const expiry = discountExpiryInput.value;
        
        if (!code || isNaN(value) || !expiry) {
            alert('Please fill all fields with valid data');
            return;
        }
        
        const discount = {
            code,
            type,
            value,
            expiry,
            createdAt: new Date().toISOString()
        };
        
        discounts.push(discount);
        loadDiscounts();
        
        // Clear form
        adminDiscountCodeInput.value = '';
        discountValueInput.value = '';
        discountExpiryInput.value = '';
    });
    
    // Add product
    addProductBtn.addEventListener('click', () => {
        const name = productNameInput.value.trim();
        const category = productCategorySelect.value;
        const price = parseFloat(productPriceInput.value);
        const flavor = productFlavorInput.value.trim();
        const description = productDescriptionInput.value.trim();
        
        if (!name || isNaN(price) || !flavor) {
            alert('Please fill all required fields with valid data');
            return;
        }
        
        const product = {
            id: `prod_${Date.now()}`,
            name,
            category,
            price,
            flavor,
            description,
            createdAt: new Date().toISOString()
        };
        
        products.push(product);
        loadProducts();
        
        // Clear form
        productNameInput.value = '';
        productPriceInput.value = '';
        productFlavorInput.value = '';
        productDescriptionInput.value = '';
    });
    
    // Load orders with filtering
    function loadOrders() {
        const searchTerm = orderSearch.value.toLowerCase();
        const deliveryType = deliveryFilter.value;
        
        let filteredOrders = [...orders];
        
        // Apply search filter
        if (searchTerm) {
            filteredOrders = filteredOrders.filter(order => 
                order.id.includes(searchTerm) || 
                order.items.some(item => item.name.toLowerCase().includes(searchTerm))
            );
        }
        
        // Apply delivery type filter
        if (deliveryType !== 'all') {
            filteredOrders = filteredOrders.filter(order => order.deliveryType === deliveryType);
        }
        
        // Sort by newest first
        filteredOrders.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
        
        // Display orders
        displayOrders(filteredOrders);
    }
    
    // Load discounts
    function loadDiscounts() {
        if (discounts.length === 0) {
            discountsList.innerHTML = `
                <tr>
                    <td colspan="5" class="px-6 py-4 text-center text-gray-500">No active discounts</td>
                </tr>
            `;
            return;
        }
        
        let discountsHTML = '';
        
        discounts.forEach(discount => {
            const expiryDate = new Date(discount.expiry);
            const formattedExpiry = expiryDate.toLocaleDateString();
            const isExpired = new Date() > expiryDate;
            
            if (isExpired) return; // Skip expired discounts
            
            discountsHTML += `
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${discount.code}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900 capitalize">${discount.type}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">
                            ${discount.type === 'percentage' ? `${discount.value}%` : `$${discount.value.toFixed(2)}`}
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${formattedExpiry}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button class="text-red-600 hover:text-red-900 delete-discount" data-code="${discount.code}">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </td>
                </tr>
            `;
        });
        
        discountsList.innerHTML = discountsHTML || `
            <tr>
                <td colspan="5" class="px-6 py-4 text-center text-gray-500">No active discounts</td>
            </tr>
        `;
        
        // Add event listeners to delete buttons
        document.querySelectorAll('.delete-discount').forEach(button => {
            button.addEventListener('click', (e) => {
                const code = e.target.closest('button').getAttribute('data-code');
                discounts = discounts.filter(d => d.code !== code);
                loadDiscounts();
            });
        });
    }
    
    // Load products
    function loadProducts() {
        if (products.length === 0) {
            productsList.innerHTML = `
                <tr>
                    <td colspan="5" class="px-6 py-4 text-center text-gray-500">No products available</td>
                </tr>
            `;
            return;
        }
        
        let productsHTML = '';
        
        products.forEach(product => {
            productsHTML += `
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${product.name}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${product.category}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">$${product.price.toFixed(2)}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900 capitalize">${product.flavor}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button class="text-red-600 hover:text-red-900 delete-product mr-4" data-id="${product.id}">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                        <button class="text-blue-600 hover:text-blue-900 edit-product" data-id="${product.id}">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </td>
                </tr>
            `;
        });
        
        productsList.innerHTML = productsHTML;
        
        // Add event listeners to delete buttons
        document.querySelectorAll('.delete-product').forEach(button => {
            button.addEventListener('click', (e) => {
                const id = e.target.closest('button').getAttribute('data-id');
                products = products.filter(p => p.id !== id);
                loadProducts();
            });
        });
        
        // Add event listeners to edit buttons (would implement edit functionality in a real app)
        document.querySelectorAll('.edit-product').forEach(button => {
            button.addEventListener('click', (e) => {
                const id = e.target.closest('button').getAttribute('data-id');
                alert(`Edit product ${id} - functionality would be implemented in a real app`);
            });
        });
    }
    
    // Display orders in the table
    function displayOrders(ordersToDisplay) {
        if (ordersToDisplay.length === 0) {
            ordersList.innerHTML = `
                <tr>
                    <td colspan="6" class="px-6 py-4 text-center text-gray-500">No orders found</td>
                </tr>
            `;
            ordersCount.textContent = "Showing 0 orders";
            prevPageBtn.disabled = true;
            nextPageBtn.disabled = true;
            return;
        }
        
        let ordersHTML = '';
        
        ordersToDisplay.forEach(order => {
            const deliveryTime = order.deliveryType === 'break' ? '10:10 AM' : '12:00 PM';
            const statusClass = order.status === 'Delivered' ? 'bg-green-100 text-green-800' : 
                               order.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' : 
                               'bg-blue-100 text-blue-800';
            
            ordersHTML += `
                <tr class="order-row hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${order.id}</div>
                    </td>
                    <td class="px-6 py-4">
                        <div class="text-sm text-gray-900">
                            ${order.items.map(item => `${item.quantity}x ${item.name}`).join(', ')}
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-bold text-gray-900">$${order.total.toFixed(2)}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${order.deliveryType === 'break' ? 'bg-yellow-100 text-yellow-800' : 'bg-blue-100 text-blue-800'}">
                                ${deliveryTime}
                            </span>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${statusClass}">
                            ${order.status}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button class="text-blue-600 hover:text-blue-900 complete-order" data-id="${order.id}">
                            <i class="fas fa-check"></i> Complete
                        </button>
                    </td>
                </tr>
            `;
        });
        
        ordersList.innerHTML = ordersHTML;
        ordersCount.textContent = `Showing ${ordersToDisplay.length} order${ordersToDisplay.length !== 1 ? 's' : ''}`;
        
        // Pagination controls (simplified for this example)
        prevPageBtn.disabled = true;
        nextPageBtn.disabled = true;
        
        // Add event listeners to complete order buttons
        document.querySelectorAll('.complete-order').forEach(button => {
            button.addEventListener('click', (e) => {
                const id = e.target.closest('button').getAttribute('data-id');
                const order = orders.find(o => o.id === id);
                if (order) {
                    order.status = 'Delivered';
                    loadOrders();
                }
            });
        });
    }
    
    // Update cart UI
    function updateCart() {
        // Update cart count
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        cartCount.textContent = totalItems;
        
        // Update cart items
        if (cart.length === 0) {
            emptyCartMessage.classList.remove('hidden');
            cartItemsContainer.innerHTML = '';
        } else {
            emptyCartMessage.classList.add('hidden');
            
            let itemsHTML = '';
            
            cart.forEach(item => {
                itemsHTML += `
                    <div class="flex justify-between items-center py-3 border-b border-gray-200">
                        <div>
                            <h4 class="font-semibold">${item.name}</h4>
                            <div class="flex items-center mt-1">
                                <button class="decrease-quantity text-gray-500 hover:text-blue-600 mr-2" data-id="${item.id}">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <span class="quantity">${item.quantity}</span>
                                <button class="increase-quantity text-gray-500 hover:text-blue-600 ml-2" data-id="${item.id}">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="font-semibold">$${(item.price * item.quantity).toFixed(2)}</span>
                            <button class="remove-item block text-red-500 hover:text-red-700 text-sm mt-1" data-id="${item.id}">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItemsContainer.innerHTML = itemsHTML;
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.increase-quantity').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    const item = cart.find(item => item.id === id);
                    if (item) {
                        item.quantity += 1;
                        updateCart();
                    }
                });
            });
            
            document.querySelectorAll('.decrease-quantity').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    const item = cart.find(item => item.id === id);
                    if (item && item.quantity > 1) {
                        item.quantity -= 1;
                        updateCart();
                    }
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    cart = cart.filter(item => item.id !== id);
                    
                    // If we removed the last item, deselect delivery
                    if (cart.length === 0) {
                        deliveryOptions.forEach(opt => opt.classList.remove('selected-delivery'));
                        selectedDelivery = null;
                        appliedDiscount = null;
                        discountCodeInput.value = '';
                        discountMessage.textContent = '';
                    }
                    
                    updateCart();
                });
            });
        }
        
        // Calculate totals
        const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        const deliveryCost = selectedDelivery ? selectedDelivery.price : 0;
        
        // Apply discount if available
        let discountAmountValue = 0;
        if (appliedDiscount) {
            if (appliedDiscount.type === 'percentage') {
                discountAmountValue = subtotal * (appliedDiscount.value / 100);
            } else {
                discountAmountValue = appliedDiscount.value;
            }
            
            // Don't let discount exceed subtotal
            discountAmountValue = Math.min(discountAmountValue, subtotal);
        }
        
        const total = subtotal - discountAmountValue + deliveryCost;
        
        subtotalElement.textContent = `$${subtotal.toFixed(2)}`;
        
        // Show/hide discount row
        if (appliedDiscount) {
            discountRow.style.display = 'flex';
            discountAmount.textContent = `-$${discountAmountValue.toFixed(2)}`;
        } else {
            discountRow.style.display = 'none';
        }
        
        deliveryCostElement.textContent = selectedDelivery ? `$${deliveryCost.toFixed(2)}` : '$0.00';
        totalElement.textContent = `$${total.toFixed(2)}`;
        
        // Enable/disable checkout button
        checkoutBtn.disabled = cart.length === 0 || !selectedDelivery;
    }
    
    // Close panels when clicking outside
    overlay.addEventListener('click', () => {
        cartSidebar.classList.add('translate-x-full');
        employeeLoginModal.classList.add('hidden');
        employeePanel.classList.add('translate-x-full');
        setTimeout(() => {
            employeePanel.classList.add('hidden');
            overlay.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }, 300);
    });
    
    // Initialize with some sample discounts
    discounts = [
        {
            code: 'SWEET10',
            type: 'percentage',
            value: 10,
            expiry: '2023-12-31',
            createdAt: new Date().toISOString()
        },
        {
            code: 'CANDY5',
            type: 'fixed',
            value: 5,
            expiry: '2023-12-31',
            createdAt: new Date().toISOString()
        }
    ];
</script>
<p style="border-radius: 8px; text-align: center; font-size: 12px; color: #fff; margin-top: 16px;position: fixed; left: 8px; bottom: 8px; z-index: 10; background: rgba(0, 0, 0, 0.8); padding: 4px 8px;">Made with <img src="https://enzostvs-deepsite.hf.space/logo.svg" alt="DeepSite Logo" style="width: 16px; height: 16px; vertical-align: middle;display:inline-block;margin-right:3px;filter:brightness(0) invert(1);"><a href="https://enzostvs-deepsite.hf.space" style="color: #fff;text-decoration: underline;" target="_blank" >DeepSite</a> - 🧬 <a href="https://enzostvs-deepsite.hf.space?remix=Vistan25/candyshop" style="color: #fff;text-decoration: underline;" target="_blank" >Remix</a></p></body>
</html>